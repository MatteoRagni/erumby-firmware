<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>eRumby-Firmware: pwm_reader_attachable_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">eRumby-Firmware
   &#160;<span id="projectnumber">1.0.0-beta</span>
   </div>
   <div id="projectbrief">Firmware for the eRumby low level microcontroller</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classpwm__reader__attachable__t.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpwm__reader__attachable__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pwm_reader_attachable_t Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for an attachable pin that reads PWM.  
 <a href="classpwm__reader__attachable__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6b56258dcaf943cf04b53760ddd1db38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a6b56258dcaf943cf04b53760ddd1db38">pwm_reader_attachable_t</a> (<a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a> pin_)</td></tr>
<tr class="memdesc:a6b56258dcaf943cf04b53760ddd1db38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for an attachable pin that reads PWM.  <a href="#a6b56258dcaf943cf04b53760ddd1db38">More...</a><br /></td></tr>
<tr class="separator:a6b56258dcaf943cf04b53760ddd1db38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad92c411f3d1e5a1e41022e759b7913dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#aba03c86a55b789b2ca5253cab49cf585">counter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#ad92c411f3d1e5a1e41022e759b7913dd">get_counter</a> ()</td></tr>
<tr class="memdesc:ad92c411f3d1e5a1e41022e759b7913dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current counter value.  <a href="#ad92c411f3d1e5a1e41022e759b7913dd">More...</a><br /></td></tr>
<tr class="separator:ad92c411f3d1e5a1e41022e759b7913dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae563b0c9415466d889c15dd70dc080fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#ae563b0c9415466d889c15dd70dc080fc">get_pulse</a> ()</td></tr>
<tr class="memdesc:ae563b0c9415466d889c15dd70dc080fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current pulse reading.  <a href="#ae563b0c9415466d889c15dd70dc080fc">More...</a><br /></td></tr>
<tr class="separator:ae563b0c9415466d889c15dd70dc080fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87084d1e50a92c4c54dfb21255ee45d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a> ()</td></tr>
<tr class="memdesc:a87084d1e50a92c4c54dfb21255ee45d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the stabilized version of the pulse reading.  <a href="#a87084d1e50a92c4c54dfb21255ee45d9">More...</a><br /></td></tr>
<tr class="separator:a87084d1e50a92c4c54dfb21255ee45d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61b1ae305c96d79a5c0e7d4ed6e032a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a> ()</td></tr>
<tr class="memdesc:ac61b1ae305c96d79a5c0e7d4ed6e032a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt callback registered at pin creation.  <a href="#ac61b1ae305c96d79a5c0e7d4ed6e032a">More...</a><br /></td></tr>
<tr class="separator:ac61b1ae305c96d79a5c0e7d4ed6e032a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9229bd28f7ac3069f0599165aa061b2e"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a9229bd28f7ac3069f0599165aa061b2e">pin_counter</a> = 0</td></tr>
<tr class="separator:a9229bd28f7ac3069f0599165aa061b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad351964f7d26231dd33a4516876ccd76"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a> [6] = {0}</td></tr>
<tr class="separator:ad351964f7d26231dd33a4516876ccd76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918baa27da906f2beae72e6939d252fe"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="pwm__reader__t_8hpp.html#a9d58be16c7d46826ab3b7d6372ea9991">pwm_attachable_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a918baa27da906f2beae72e6939d252fe">callbacks</a> [6]</td></tr>
<tr class="separator:a918baa27da906f2beae72e6939d252fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a33f5499f2d8b4e7cdc0d899f0f607e37"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a33f5499f2d8b4e7cdc0d899f0f607e37">register_callback</a> (<a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a> *self, <a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a> <a class="el" href="classpwm__reader__attachable__t.html#a1ce433420fb578fecdd94e6e1739f350">pin</a>)</td></tr>
<tr class="memdesc:a33f5499f2d8b4e7cdc0d899f0f607e37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the callback for the current pin.  <a href="#a33f5499f2d8b4e7cdc0d899f0f607e37">More...</a><br /></td></tr>
<tr class="separator:a33f5499f2d8b4e7cdc0d899f0f607e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349d0ed2c8a37de7e99ead284777b2e0"><td class="memItemLeft" align="right" valign="top"><a id="a349d0ed2c8a37de7e99ead284777b2e0"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a349d0ed2c8a37de7e99ead284777b2e0">interrupt_error</a> ()</td></tr>
<tr class="memdesc:a349d0ed2c8a37de7e99ead284777b2e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm function. <br /></td></tr>
<tr class="separator:a349d0ed2c8a37de7e99ead284777b2e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1ce433420fb578fecdd94e6e1739f350"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a1ce433420fb578fecdd94e6e1739f350">pin</a></td></tr>
<tr class="separator:a1ce433420fb578fecdd94e6e1739f350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbed3d9f32eb0565081447685cc9f331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#abbed3d9f32eb0565081447685cc9f331">pulse</a></td></tr>
<tr class="separator:abbed3d9f32eb0565081447685cc9f331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234897bec76d3c27f2489cf057d3f919"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a234897bec76d3c27f2489cf057d3f919">pulse_real</a></td></tr>
<tr class="separator:a234897bec76d3c27f2489cf057d3f919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c89e6d0ce021982b8df34062c3f614c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a3c89e6d0ce021982b8df34062c3f614c">edge_time</a></td></tr>
<tr class="separator:a3c89e6d0ce021982b8df34062c3f614c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabbfad1c812a4fa0d3a9eb4c78a1ce7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#aba03c86a55b789b2ca5253cab49cf585">counter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#afabbfad1c812a4fa0d3a9eb4c78a1ce7">counter</a></td></tr>
<tr class="separator:afabbfad1c812a4fa0d3a9eb4c78a1ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2929c378b78a66ed20045de93f438c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpwm__reader__attachable__t.html#a4a2929c378b78a66ed20045de93f438c">read</a></td></tr>
<tr class="separator:a4a2929c378b78a66ed20045de93f438c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for an attachable pin that reads PWM. </p>
<p>The class uses the number of pin to attack a callback for reading the PWM value. Only pin that support <code>attachInterrupt</code> can be handled with this class. As for now this class has been written for the Arduino Mega, which has the following pin attachable: 2, 3, 18, 19, 20, 21. Requiring a pin different from this one makes the arduino to fall in a error loop.</p>
<p>This class is written for <b>fastly varying</b> PWM signals and in fact internally it has some stabilization techniques for the PWM signal (in form of delays).</p>
<dl class="section warning"><dt>Warning</dt><dd>If the pin connected does not belong to the set (2, 3, 18, 19, 20, 21) the sketch blocks the execution showing an error, by pulsing the led of the board. The error code is a loop of <code>[ + + + + - + - + - ]</code>:<ul>
<li>On for 2s,</li>
<li>Off for 0.5s,</li>
<li>On for 0.5s,</li>
<li>Off for 0.5s,</li>
<li>On for 0.5s,</li>
<li>Off for 0.5s</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin_</td><td>a valid pin from which the user wants to read the PWM </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00272">272</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6b56258dcaf943cf04b53760ddd1db38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b56258dcaf943cf04b53760ddd1db38">&#9670;&nbsp;</a></span>pwm_reader_attachable_t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pwm_reader_attachable_t::pwm_reader_attachable_t </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a>&#160;</td>
          <td class="paramname"><em>pin_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for an attachable pin that reads PWM. </p>
<p>The constructor uses the number of pin to attack a callback for reading the PWM value. Only pin that support <code>attachInterrupt</code> can be handled with this class. As for now this class has been written for the Arduino Mega, which has the following pin attachable: 2, 3, 18, 19, 20, 21. Requiring a pin different from this one makes the arduino to fall in a error loop.</p>
<dl class="section warning"><dt>Warning</dt><dd>If the pin connected does not belong to the set (2, 3, 18, 19, 20, 21) the sketch blocks the execution showing an error, by pulsing the led of the board. The error code is a loop of <code>[ + + + + - + - + - ]</code>:<ul>
<li>On for 2s,</li>
<li>Off for 0.5s,</li>
<li>On for 0.5s,</li>
<li>Off for 0.5s,</li>
<li>On for 0.5s,</li>
<li>Off for 0.5s</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin_</td><td>a valid pin from which the user wants to read the PWM </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00305">305</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad92c411f3d1e5a1e41022e759b7913dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad92c411f3d1e5a1e41022e759b7913dd">&#9670;&nbsp;</a></span>get_counter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#aba03c86a55b789b2ca5253cab49cf585">counter_t</a> pwm_reader_attachable_t::get_counter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current counter value. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of impulse passed by since last reset </dd></dl>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00318">318</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="ae563b0c9415466d889c15dd70dc080fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae563b0c9415466d889c15dd70dc080fc">&#9670;&nbsp;</a></span>get_pulse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> pwm_reader_attachable_t::get_pulse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current pulse reading. </p>
<dl class="section return"><dt>Returns</dt><dd>the width of the last pulse since the last interrupt call </dd></dl>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00323">323</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a87084d1e50a92c4c54dfb21255ee45d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87084d1e50a92c4c54dfb21255ee45d9">&#9670;&nbsp;</a></span>get_pulse_real()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> pwm_reader_attachable_t::get_pulse_real </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the stabilized version of the pulse reading. </p>
<p>Our application has a fast varying PWM signal to be read. In order to have a better accuracy in reading the signal the class wait a certain ammount of time before giving the current value. The waiting time is specified in terms of counts in <code>DUTY_MODE_STABILIZER</code> </p>
<dl class="section return"><dt>Returns</dt><dd>the width of the last pulse since the last interrupt call </dd></dl>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00334">334</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="ac61b1ae305c96d79a5c0e7d4ed6e032a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac61b1ae305c96d79a5c0e7d4ed6e032a">&#9670;&nbsp;</a></span>interrupt_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pwm_reader_attachable_t::interrupt_callback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interrupt callback registered at pin creation. </p>
<p>This interrupt callback is registered for execution at object construction. The callback reads the status of the pin and evaluates the duration of the pwm pulse.</p>
<p>Since this kind of PWM are for fastly varying PWM signals, there is also some counter handling and reset. </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00345">345</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a33f5499f2d8b4e7cdc0d899f0f607e37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33f5499f2d8b4e7cdc0d899f0f607e37">&#9670;&nbsp;</a></span>register_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pwm_reader_attachable_t::register_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a>&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register the callback for the current pin. </p>
<p>This function stores the current <code><a class="el" href="classpwm__reader__attachable__t.html" title="Class for an attachable pin that reads PWM. ">pwm_reader_attachable_t</a></code> instance to the static variable <code>callbacks</code> in order to actually call the interrup rooutine for the specific pin. The function only accepts the pin for which attachable interrupt is available, or it raise the <code>interrupt_error</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to the instance of <code><a class="el" href="classpwm__reader__attachable__t.html" title="Class for an attachable pin that reads PWM. ">pwm_reader_attachable_t</a></code> to be saved </td></tr>
    <tr><td class="paramname">pin</td><td>pin to be registered</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>the <code>pin</code> can be removed, and <code>self-&gt;pin</code> used instead </dd></dl>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00378">378</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1ce433420fb578fecdd94e6e1739f350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ce433420fb578fecdd94e6e1739f350">&#9670;&nbsp;</a></span>pin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a> pwm_reader_attachable_t::pin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>physical pin on the board </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00273">273</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="abbed3d9f32eb0565081447685cc9f331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbed3d9f32eb0565081447685cc9f331">&#9670;&nbsp;</a></span>pulse</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> pwm_reader_attachable_t::pulse</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>duration of the high edge (the pwm reading) </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00274">274</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a234897bec76d3c27f2489cf057d3f919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234897bec76d3c27f2489cf057d3f919">&#9670;&nbsp;</a></span>pulse_real</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> pwm_reader_attachable_t::pulse_real</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>a stabilized version of the reading (for fast varying signals) </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00275">275</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a3c89e6d0ce021982b8df34062c3f614c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c89e6d0ce021982b8df34062c3f614c">&#9670;&nbsp;</a></span>edge_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> pwm_reader_attachable_t::edge_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>timing of the last high edge </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00276">276</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="afabbfad1c812a4fa0d3a9eb4c78a1ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afabbfad1c812a4fa0d3a9eb4c78a1ce7">&#9670;&nbsp;</a></span>counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#aba03c86a55b789b2ca5253cab49cf585">counter_t</a> pwm_reader_attachable_t::counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>counter (actually used for the encoder) </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00277">277</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a4a2929c378b78a66ed20045de93f438c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2929c378b78a66ed20045de93f438c">&#9670;&nbsp;</a></span>read</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#aede467d93ddeb5fdeff6023236aa4ad6">pin_t</a> pwm_reader_attachable_t::read</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Last reading of the pin, for triggering pulse width evaluation </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00278">278</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a9229bd28f7ac3069f0599165aa061b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9229bd28f7ac3069f0599165aa061b2e">&#9670;&nbsp;</a></span>pin_counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pwm_reader_attachable_t::pin_counter = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of pin attached with respect to total </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00281">281</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="ad351964f7d26231dd33a4516876ccd76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad351964f7d26231dd33a4516876ccd76">&#9670;&nbsp;</a></span>pin_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a> * pwm_reader_attachable_t::pin_table = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Table of attached pin reference for callbacks </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00282">282</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<a id="a918baa27da906f2beae72e6939d252fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918baa27da906f2beae72e6939d252fe">&#9670;&nbsp;</a></span>callbacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="pwm__reader__t_8hpp.html#a9d58be16c7d46826ab3b7d6372ea9991">pwm_attachable_callback_t</a> pwm_reader_attachable_t::callbacks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  [](void) -&gt; <span class="keywordtype">void</span> { <a class="code" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a>[0]-&gt;<a class="code" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a>(); }, </div><div class="line">  [](void) -&gt; <span class="keywordtype">void</span> { <a class="code" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a>[1]-&gt;<a class="code" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a>(); },</div><div class="line">  [](void) -&gt; <span class="keywordtype">void</span> { <a class="code" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a>[2]-&gt;<a class="code" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a>(); }, </div><div class="line">  [](void) -&gt; <span class="keywordtype">void</span> { <a class="code" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a>[3]-&gt;<a class="code" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a>(); },</div><div class="line">  [](void) -&gt; <span class="keywordtype">void</span> { <a class="code" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a>[4]-&gt;<a class="code" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a>(); },</div><div class="line">  [](void) -&gt; <span class="keywordtype">void</span> { <a class="code" href="classpwm__reader__attachable__t.html#ad351964f7d26231dd33a4516876ccd76">pin_table</a>[5]-&gt;<a class="code" href="classpwm__reader__attachable__t.html#ac61b1ae305c96d79a5c0e7d4ed6e032a">interrupt_callback</a>(); }</div><div class="line">}</div></div><!-- fragment --><p>Actual callbacks for pin </p>

<p class="definition">Definition at line <a class="el" href="pwm__reader__t_8hpp_source.html#l00283">283</a> of file <a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="pwm__reader__t_8hpp_source.html">pwm_reader_t.hpp</a></li>
<li><a class="el" href="pwm__reader__t_8ino_source.html">pwm_reader_t.ino</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a></li>
    <li class="footer">Generated on Fri Nov 16 2018 14:09:40 for eRumby-Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>

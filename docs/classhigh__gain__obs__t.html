<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>eRumby-Firmware: high_gain_obs_t&lt; MILLIS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">eRumby-Firmware
   &#160;<span id="projectnumber">1.0.0-beta</span>
   </div>
   <div id="projectbrief">Firmware for the eRumby low level microcontroller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classhigh__gain__obs__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">high_gain_obs_t&lt; MILLIS &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of a discretized High Gain Observer.  
 <a href="classhigh__gain__obs__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a39241b71a397f4eb5ff1c6cb699a7c35"><td class="memItemLeft" align="right" valign="top"><a id="a39241b71a397f4eb5ff1c6cb699a7c35"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#a39241b71a397f4eb5ff1c6cb699a7c35">high_gain_obs_t</a> ()</td></tr>
<tr class="memdesc:a39241b71a397f4eb5ff1c6cb699a7c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty constructor, it initialize an empty filter. <br /></td></tr>
<tr class="separator:a39241b71a397f4eb5ff1c6cb699a7c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea099772f1d4422530b6210de5402233"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#aea099772f1d4422530b6210de5402233">high_gain_obs_t</a> (const float l1_, const float l2_, const float l3_, const float epsilon_)</td></tr>
<tr class="memdesc:aea099772f1d4422530b6210de5402233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with parameters.  <a href="#aea099772f1d4422530b6210de5402233">More...</a><br /></td></tr>
<tr class="separator:aea099772f1d4422530b6210de5402233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b3508bdeef5e5f46f86eee244c215f"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#aa0b3508bdeef5e5f46f86eee244c215f">operator()</a> (const float y)</td></tr>
<tr class="memdesc:aa0b3508bdeef5e5f46f86eee244c215f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the next step of the filter.  <a href="#aa0b3508bdeef5e5f46f86eee244c215f">More...</a><br /></td></tr>
<tr class="separator:aa0b3508bdeef5e5f46f86eee244c215f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9c8bc28c4eaae13510a4a67bab78ad2"><td class="memItemLeft" align="right" valign="top"><a id="ad9c8bc28c4eaae13510a4a67bab78ad2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#ad9c8bc28c4eaae13510a4a67bab78ad2">reset</a> ()</td></tr>
<tr class="memdesc:ad9c8bc28c4eaae13510a4a67bab78ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the internal state of the filter. <br /></td></tr>
<tr class="separator:ad9c8bc28c4eaae13510a4a67bab78ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41fec13edf5055b0e6585583363e41b5"><td class="memItemLeft" align="right" valign="top">const float &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#a41fec13edf5055b0e6585583363e41b5">operator[]</a> (const size_t i) const</td></tr>
<tr class="memdesc:a41fec13edf5055b0e6585583363e41b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute reader for the internal state of the filter.  <a href="#a41fec13edf5055b0e6585583363e41b5">More...</a><br /></td></tr>
<tr class="separator:a41fec13edf5055b0e6585583363e41b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56dd856fa17bae0287f7d1465c8ede33"><td class="memItemLeft" align="right" valign="top">float &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#a56dd856fa17bae0287f7d1465c8ede33">operator[]</a> (const size_t i)</td></tr>
<tr class="memdesc:a56dd856fa17bae0287f7d1465c8ede33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute accessor for the internal state of the filter.  <a href="#a56dd856fa17bae0287f7d1465c8ede33">More...</a><br /></td></tr>
<tr class="separator:a56dd856fa17bae0287f7d1465c8ede33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a18c75650b227b68c29eb530e948b735a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#a18c75650b227b68c29eb530e948b735a">discretize</a> (const float l1_, const float l2_, const float l3_, const float epsilon_)</td></tr>
<tr class="memdesc:a18c75650b227b68c29eb530e948b735a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the discretization of the filter.  <a href="#a18c75650b227b68c29eb530e948b735a">More...</a><br /></td></tr>
<tr class="separator:a18c75650b227b68c29eb530e948b735a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad13e765440b87f2da685942d7c03dfe8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#ad13e765440b87f2da685942d7c03dfe8">x</a> [<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td></tr>
<tr class="separator:ad13e765440b87f2da685942d7c03dfe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af90972d4cca555184b03f2f1f5ddf20a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#af90972d4cca555184b03f2f1f5ddf20a">xp</a> [<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td></tr>
<tr class="separator:af90972d4cca555184b03f2f1f5ddf20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7cff05e3a14f969c611d3531f7f3950"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#ac7cff05e3a14f969c611d3531f7f3950">Al</a> [<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a> *<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td></tr>
<tr class="separator:ac7cff05e3a14f969c611d3531f7f3950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744e23754916f59a8a67f0ff31266aa6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#a744e23754916f59a8a67f0ff31266aa6">Bl</a> [<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td></tr>
<tr class="separator:a744e23754916f59a8a67f0ff31266aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a556520ac7f8c1a9680e6f1c72a536b7a"><td class="memItemLeft" align="right" valign="top">static const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#a556520ac7f8c1a9680e6f1c72a536b7a">ts</a> = float(MILLIS) / 1000.0</td></tr>
<tr class="separator:a556520ac7f8c1a9680e6f1c72a536b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae266079936ce573bddc546978e7768b6"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a> = 3</td></tr>
<tr class="separator:ae266079936ce573bddc546978e7768b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;timing_t MILLIS&gt;<br />
class high_gain_obs_t&lt; MILLIS &gt;</h3>

<p>Implementation of a discretized High Gain Observer. </p>
<p>The class implements an high gain observer for encoders that estimates the current angle of the wheel closing the loop on the measured angle on the encoder, using the following structure:</p>
<p class="formulaDsp">
\begin{align} \dot{\hat{x}} &amp; = A \hat{x} + E(\varepsilon) L (C \hat{x} - y) \\ \hat{y} &amp; = C x \\ \dot{\hat{y}} &amp; = C&#39; x \end{align}
</p>
<p>where:</p>
<p class="formulaDsp">
\begin{align} A &amp; = \begin{bmatrix} 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \\ 0 &amp; 0 &amp; 0 \end{bmatrix} \\ C &amp; = \begin{bmatrix} 1 &amp; 0 &amp; 0 \end{bmatrix} \\ C&#39; &amp; = \begin{bmatrix} 0 &amp; 1 &amp; 0 \end{bmatrix} \\ L &amp; = \begin{bmatrix} l_1 \\ l_2 \\ l_3 \end{bmatrix} \\ E(\varepsilon) &amp; = \begin{bmatrix} \varepsilon^{-1} &amp; 0 &amp; 0 \\ 0 &amp; \varepsilon^{-2} &amp; 0 \\ 0 &amp; 0 &amp; \varepsilon^{-3} \end{bmatrix} \end{align}
</p>
<p>where the parameters can be configured using Matlab for example:</p>
<p class="formulaDsp">
\[ L = - \mathrm{lqr}(A^\top, C^\top, I_{3 \times 3}, 1)^\top \]
</p>
<p>and than using \(\varepsilon\) for changing the bandwidth of the filter.</p>
<dl class="section warning"><dt>Warning</dt><dd>Remember that the bandwidth may be limited by the integration timestep.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">MILLIS</td><td>discretization time step in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00085">85</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aea099772f1d4422530b6210de5402233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea099772f1d4422530b6210de5402233">&#9670;&nbsp;</a></span>high_gain_obs_t()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::<a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a> </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>l1_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>l2_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>l3_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>epsilon_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor with parameters. </p>
<p>The constructor evaluates also the discretized version of the matrices. The discretization is done using a Backward Euler: </p><p class="formulaDsp">
\[ s = \frac{z - 1}{t_s z} \]
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l1_</td><td>observer parameter for state 1 </td></tr>
    <tr><td class="paramname">l2_</td><td>observer parameter for state 2 </td></tr>
    <tr><td class="paramname">l3_</td><td>observer parameter for state 3 </td></tr>
    <tr><td class="paramname">epsilon_</td><td>high gain value (usually in \((0, 1)\)) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8ino_source.html#l00004">4</a> of file <a class="el" href="high__gain__obs__t_8ino_source.html">high_gain_obs_t.ino</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa0b3508bdeef5e5f46f86eee244c215f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b3508bdeef5e5f46f86eee244c215f">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const float <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>y</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates the next step of the filter. </p>
<p>Receives a new observation to evaluate a new step using the implicit step. It returns: </p><p class="formulaDsp">
\[ C&#39; \hat{x} = \dot{\hat{y}} \]
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">y</td><td>last observation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the derivative of the input estimated by the high gain </dd></dl>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8ino_source.html#l00010">10</a> of file <a class="el" href="high__gain__obs__t_8ino_source.html">high_gain_obs_t.ino</a>.</p>

</div>
</div>
<a id="a41fec13edf5055b0e6585583363e41b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41fec13edf5055b0e6585583363e41b5">&#9670;&nbsp;</a></span>operator[]() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float&amp; <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attribute reader for the internal state of the filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>index of the i-th state of the filter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of the i-th state of the filter </dd></dl>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00132">132</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="a56dd856fa17bae0287f7d1465c8ede33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56dd856fa17bae0287f7d1465c8ede33">&#9670;&nbsp;</a></span>operator[]() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float&amp; <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attribute accessor for the internal state of the filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>index of the i-th state of the filter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a settable reference to the i-th state of the filter </dd></dl>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00138">138</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="a18c75650b227b68c29eb530e948b735a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18c75650b227b68c29eb530e948b735a">&#9670;&nbsp;</a></span>discretize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::discretize </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>l1_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>l2_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>l3_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>epsilon_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluates the discretization of the filter. </p>
<p>This function evaluates the discretization of the following dynamical system: </p><p class="formulaDsp">
\begin{align} \dot{\hat{x}} &amp; = (A + E(\varepsilon) L C) \hat{x} - E(\varepsilon) L y \\ \hat{y} &amp; = C x \end{align}
</p>
<p> with the Backward Euler: </p><p class="formulaDsp">
\[ s = \frac{z - 1}{t_s z} \]
</p>
<p> Such that: </p><p class="formulaDsp">
\[ \hat{x}_k = A_L \hat{x}_{k - 1} + B_L y_k \]
</p>
<p> with: </p><p class="formulaDsp">
\begin{align} A_L &amp; = (I_{3 \times 3} - t_s (A + E(\varepsilon) L C))^{-1} \\ B_L &amp; = A_L E(\varepsilon) L t_s \end{align}
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l1_</td><td>observer parameter for state 1 </td></tr>
    <tr><td class="paramname">l2_</td><td>observer parameter for state 2 </td></tr>
    <tr><td class="paramname">l3_</td><td>observer parameter for state 3 </td></tr>
    <tr><td class="paramname">epsilon_</td><td>high gain value (usually in \((0, 1)\)) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8ino_source.html#l00033">33</a> of file <a class="el" href="high__gain__obs__t_8ino_source.html">high_gain_obs_t.ino</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a556520ac7f8c1a9680e6f1c72a536b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a556520ac7f8c1a9680e6f1c72a536b7a">&#9670;&nbsp;</a></span>ts</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::ts = float(MILLIS) / 1000.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time step of the filter </p>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00086">86</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="ae266079936ce573bddc546978e7768b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae266079936ce573bddc546978e7768b6">&#9670;&nbsp;</a></span>state_size</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::state_size = 3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>State size for the observer </p>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00087">87</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="ad13e765440b87f2da685942d7c03dfe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13e765440b87f2da685942d7c03dfe8">&#9670;&nbsp;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::x[<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal state of the filter </p>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00088">88</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="af90972d4cca555184b03f2f1f5ddf20a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af90972d4cca555184b03f2f1f5ddf20a">&#9670;&nbsp;</a></span>xp</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::xp[<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>next step of the filter, required for the implicit integration </p>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00089">89</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="ac7cff05e3a14f969c611d3531f7f3950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7cff05e3a14f969c611d3531f7f3950">&#9670;&nbsp;</a></span>Al</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::Al[<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a> *<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implicit discretization of the filter, matrix \(A_L\) </p>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00090">90</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<a id="a744e23754916f59a8a67f0ff31266aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744e23754916f59a8a67f0ff31266aa6">&#9670;&nbsp;</a></span>Bl</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;timing_t MILLIS&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classhigh__gain__obs__t.html">high_gain_obs_t</a>&lt; MILLIS &gt;::Bl[<a class="el" href="classhigh__gain__obs__t.html#ae266079936ce573bddc546978e7768b6">state_size</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implicit discretization of the filter, matrix \(B_L\) </p>

<p class="definition">Definition at line <a class="el" href="high__gain__obs__t_8hpp_source.html#l00091">91</a> of file <a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="high__gain__obs__t_8hpp_source.html">high_gain_obs_t.hpp</a></li>
<li><a class="el" href="high__gain__obs__t_8ino_source.html">high_gain_obs_t.ino</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 14 2018 15:37:57 for eRumby-Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>erumby-firmware: radio_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">erumby-firmware
   </div>
   <div id="projectbrief">The firmware for the erumby low level microcontroller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classradio__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">radio_t Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Radio remote software interface.  
 <a href="classradio__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a606e7e0b44c5e7c01be742a13e332242"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a606e7e0b44c5e7c01be742a13e332242">loop</a> ()</td></tr>
<tr class="memdesc:a606e7e0b44c5e7c01be742a13e332242"><td class="mdescLeft">&#160;</td><td class="mdescRight">main loop for the remote  <a href="#a606e7e0b44c5e7c01be742a13e332242">More...</a><br /></td></tr>
<tr class="separator:a606e7e0b44c5e7c01be742a13e332242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6980188ee672e53e3561f8b8f4eaac5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013ea">erumby_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a6980188ee672e53e3561f8b8f4eaac5f">get_mode</a> ()</td></tr>
<tr class="memdesc:a6980188ee672e53e3561f8b8f4eaac5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current mode.  <a href="#a6980188ee672e53e3561f8b8f4eaac5f">More...</a><br /></td></tr>
<tr class="separator:a6980188ee672e53e3561f8b8f4eaac5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a57f0249de27ea10df4110dd6529e21d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classradio__t.html">radio_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a57f0249de27ea10df4110dd6529e21d6">create_radio</a> (<a class="el" href="classerumby__base__t.html">erumby_base_t</a> *m_)</td></tr>
<tr class="memdesc:a57f0249de27ea10df4110dd6529e21d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton constructor for radio instance.  <a href="#a57f0249de27ea10df4110dd6529e21d6">More...</a><br /></td></tr>
<tr class="separator:a57f0249de27ea10df4110dd6529e21d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a656ba4a317da1f5ef33615172bfc7b16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a656ba4a317da1f5ef33615172bfc7b16">radio_t</a> (<a class="el" href="classerumby__base__t.html">erumby_base_t</a> *m_)</td></tr>
<tr class="memdesc:a656ba4a317da1f5ef33615172bfc7b16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provate constructor.  <a href="#a656ba4a317da1f5ef33615172bfc7b16">More...</a><br /></td></tr>
<tr class="separator:a656ba4a317da1f5ef33615172bfc7b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afc7cce6e22c75485e1bbc191dfdbd33b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpwm__reader__t.html">pwm_reader_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#afc7cce6e22c75485e1bbc191dfdbd33b">motor</a></td></tr>
<tr class="separator:afc7cce6e22c75485e1bbc191dfdbd33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0777a1186e23fdf63601ce9dad0ddfa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpwm__reader__t.html">pwm_reader_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a0777a1186e23fdf63601ce9dad0ddfa5">steer</a></td></tr>
<tr class="separator:a0777a1186e23fdf63601ce9dad0ddfa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861144b5063f32c07d53c33cd4cb89dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a></td></tr>
<tr class="separator:a861144b5063f32c07d53c33cd4cb89dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9e3316898c571b533a72aed266e099"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013ea">erumby_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a></td></tr>
<tr class="separator:a5f9e3316898c571b533a72aed266e099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da64b8b5949fe82ead080998a3086b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classerumby__base__t.html">erumby_base_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a></td></tr>
<tr class="separator:a1da64b8b5949fe82ead080998a3086b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ad2a5c0d3ce4f5e25ae48e6204230d8db"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classradio__t.html">radio_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classradio__t.html#ad2a5c0d3ce4f5e25ae48e6204230d8db">self</a> = nullptr</td></tr>
<tr class="separator:ad2a5c0d3ce4f5e25ae48e6204230d8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Radio remote software interface. </p>
<p>The file implements the singleton class that handles the radio remote. The current remote sends to the receiver onboard 3 signals:</p><ul>
<li>the PWM signal of the lateral switch (that is used to determine the mode)</li>
<li>the PWM signal that corresponds to the traction control (trigger on the remote)</li>
<li>the PWM signal that corresponds to the steer control (the wheel on the remote) The class attaches two <code><a class="el" href="classpwm__reader__t.html" title="Class for reading non attachable pins. ">pwm_reader_t</a></code> pin and a <code><a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a></code> pin in order to read the above signals.</li>
</ul>
<p>The mode has three states:</p><ul>
<li>lateral switch high: the machine enters in the manual mode and responds to a manual drive using remote trigger and remote wheel (not supported!)</li>
<li>lateral switch middle: the machine enters in a safe mode. No control action is sent to the actuators, the machine stops</li>
<li>lateral switch low: the machine runs in automatic mode and responds to the signal arriving from the i2c connection.</li>
</ul>
<p>The input of the remote trigger and remote wheel is remapped using two 1-D linear interpolating lookup table. The table for the traction (converts PWM input from the remote to PWM for the ESC) is defined through the two array in defines <code>REMOTE_MOTOR_LUT_X</code>, <code>REMOTE_MOTOR_LUT_Y</code> (breakpoint size <code>REMOTE_MOTOR_LUT_SIZE</code>). The table for the steer (converts PWM input from the remote to PWM for the ESC) is defined through the two array in defines <code>REMOTE_STEER_LUT_X</code>, <code>REMOTE_STEER_LUT_Y</code> (breakpoint size <code>REMOTE_STEER_LUT_SIZE</code>). This map can be changed!</p>
<p>The class is implemented as a singleton, since there can be only <b>one remote</b> (a singleton class is a class that can have only one istance. In order to do so, the constructor is made private on purpose, and to create an instance a specific creator function is made available).</p>
<dl class="section warning"><dt>Warning</dt><dd>The remote trigger and wheels does not work, thus the remote input has been disabled commenting the define <code>REMOTE_NOT_WORKING</code> </dd>
<dd>
Due to the non functioning remote the Manual mode has never been actually tested. <b>Test it in a safe environment before using it</b>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00084">84</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a656ba4a317da1f5ef33615172bfc7b16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a656ba4a317da1f5ef33615172bfc7b16">&#9670;&nbsp;</a></span>radio_t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">radio_t::radio_t </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classerumby__base__t.html">erumby_base_t</a> *&#160;</td>
          <td class="paramname"><em>m_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provate constructor. </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8ino_source.html#l00012">12</a> of file <a class="el" href="radio__t_8ino_source.html">radio_t.ino</a>.</p>
<div class="fragment"><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    : <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>(m_),</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;      <a class="code" href="classradio__t.html#afc7cce6e22c75485e1bbc191dfdbd33b">motor</a>(<a class="code" href="classpwm__reader__t.html">pwm_reader_t</a>(<a class="code" href="configurations_8hpp.html#a2884dc63f696b08d43225b18b40b7a00">TRACTION</a>)),</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      <a class="code" href="classradio__t.html#a0777a1186e23fdf63601ce9dad0ddfa5">steer</a>(<a class="code" href="classpwm__reader__t.html">pwm_reader_t</a>(<a class="code" href="configurations_8hpp.html#a0e96152ad5357393ee0ccc6444112737">STEERING</a>)),</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;      <a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>(<a class="code" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a>(<a class="code" href="configurations_8hpp.html#a71f8d3f03d20f620c1137ab786d34444">MODE_PIN</a>)),</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;      <a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a>(<a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02">Secure</a>) {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef REMOTE_NOT_WORKING</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <a class="code" href="types_8hpp.html#acb22f4d8d582661cf61a532ee71418ce">cmd_t</a> motor_x[] = REMOTE_MOTOR_LUT_X;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <a class="code" href="types_8hpp.html#acb22f4d8d582661cf61a532ee71418ce">cmd_t</a> motor_y[] = REMOTE_MOTOR_LUT_Y;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  <a class="code" href="types_8hpp.html#acb22f4d8d582661cf61a532ee71418ce">cmd_t</a> steer_x[] = REMOTE_STEER_LUT_X;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  <a class="code" href="types_8hpp.html#acb22f4d8d582661cf61a532ee71418ce">cmd_t</a> steer_y[] = REMOTE_STEER_LUT_Y;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  motor_lookup = <a class="code" href="classlookup__table__t.html">lookup_table_t&lt; cmd_t, REMOTE_MOTOR_LUT_SIZE &gt;</a>(motor_x, motor_y);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  steer_lookup = <a class="code" href="classlookup__table__t.html">lookup_table_t&lt; cmd_t, REMOTE_STEER_LUT_SIZE &gt;</a>(steer_x, steer_y);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">if</span> (!motor_lookup.is_valid())</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#a6f12ff4ebfc6ae3f220eb85ab979f2bc">alarm</a>(<span class="stringliteral">&quot;Motor lookup for radio not valid&quot;</span>);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">if</span> (!steer_lookup.<a class="code" href="classlookup__table__t.html#ab008723c6dc53ff4319208a76d2f1b94">is_valid</a>())</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#a6f12ff4ebfc6ae3f220eb85ab979f2bc">alarm</a>(<span class="stringliteral">&quot;Steer lookup for radio not valid&quot;</span>);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  steer_lookup.<a class="code" href="classlookup__table__t.html#ae6564300ef65fbca021e6e84aef30ed4">x_min</a>();</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div><div class="ttc" id="configurations_8hpp_html_a2884dc63f696b08d43225b18b40b7a00"><div class="ttname"><a href="configurations_8hpp.html#a2884dc63f696b08d43225b18b40b7a00">TRACTION</a></div><div class="ttdeci">#define TRACTION</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00013">configurations.hpp:13</a></div></div>
<div class="ttc" id="classradio__t_html_a1da64b8b5949fe82ead080998a3086b0"><div class="ttname"><a href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">radio_t::m</a></div><div class="ttdeci">erumby_base_t * m</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00090">radio_t.hpp:90</a></div></div>
<div class="ttc" id="classerumby__base__t_html_a6f12ff4ebfc6ae3f220eb85ab979f2bc"><div class="ttname"><a href="classerumby__base__t.html#a6f12ff4ebfc6ae3f220eb85ab979f2bc">erumby_base_t::alarm</a></div><div class="ttdeci">virtual void alarm(const char *who)=0</div></div>
<div class="ttc" id="types_8hpp_html_a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02"><div class="ttname"><a href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02">Secure</a></div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00044">types.hpp:44</a></div></div>
<div class="ttc" id="types_8hpp_html_acb22f4d8d582661cf61a532ee71418ce"><div class="ttname"><a href="types_8hpp.html#acb22f4d8d582661cf61a532ee71418ce">cmd_t</a></div><div class="ttdeci">uint16_t cmd_t</div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00053">types.hpp:53</a></div></div>
<div class="ttc" id="classradio__t_html_afc7cce6e22c75485e1bbc191dfdbd33b"><div class="ttname"><a href="classradio__t.html#afc7cce6e22c75485e1bbc191dfdbd33b">radio_t::motor</a></div><div class="ttdeci">pwm_reader_t motor</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00086">radio_t.hpp:86</a></div></div>
<div class="ttc" id="configurations_8hpp_html_a71f8d3f03d20f620c1137ab786d34444"><div class="ttname"><a href="configurations_8hpp.html#a71f8d3f03d20f620c1137ab786d34444">MODE_PIN</a></div><div class="ttdeci">#define MODE_PIN</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00014">configurations.hpp:14</a></div></div>
<div class="ttc" id="classradio__t_html_a861144b5063f32c07d53c33cd4cb89dd"><div class="ttname"><a href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">radio_t::mode</a></div><div class="ttdeci">pwm_reader_attachable_t mode</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00088">radio_t.hpp:88</a></div></div>
<div class="ttc" id="classlookup__table__t_html_ab008723c6dc53ff4319208a76d2f1b94"><div class="ttname"><a href="classlookup__table__t.html#ab008723c6dc53ff4319208a76d2f1b94">lookup_table_t::is_valid</a></div><div class="ttdeci">const bool is_valid() const</div><div class="ttdoc">Check if the lookup table is valid. </div><div class="ttdef"><b>Definition:</b> <a href="lookup__table__t_8ino_source.html#l00029">lookup_table_t.ino:29</a></div></div>
<div class="ttc" id="classlookup__table__t_html"><div class="ttname"><a href="classlookup__table__t.html">lookup_table_t</a></div><div class="ttdoc">1-D linear interpolating lookup table </div><div class="ttdef"><b>Definition:</b> <a href="lookup__table__t_8hpp_source.html#l00068">lookup_table_t.hpp:68</a></div></div>
<div class="ttc" id="classradio__t_html_a0777a1186e23fdf63601ce9dad0ddfa5"><div class="ttname"><a href="classradio__t.html#a0777a1186e23fdf63601ce9dad0ddfa5">radio_t::steer</a></div><div class="ttdeci">pwm_reader_t steer</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00087">radio_t.hpp:87</a></div></div>
<div class="ttc" id="classpwm__reader__t_html"><div class="ttname"><a href="classpwm__reader__t.html">pwm_reader_t</a></div><div class="ttdoc">Class for reading non attachable pins. </div><div class="ttdef"><b>Definition:</b> <a href="pwm__reader__t_8hpp_source.html#l00098">pwm_reader_t.hpp:98</a></div></div>
<div class="ttc" id="classradio__t_html_a5f9e3316898c571b533a72aed266e099"><div class="ttname"><a href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">radio_t::curr_mode</a></div><div class="ttdeci">erumby_mode_t curr_mode</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00089">radio_t.hpp:89</a></div></div>
<div class="ttc" id="configurations_8hpp_html_a0e96152ad5357393ee0ccc6444112737"><div class="ttname"><a href="configurations_8hpp.html#a0e96152ad5357393ee0ccc6444112737">STEERING</a></div><div class="ttdeci">#define STEERING</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00012">configurations.hpp:12</a></div></div>
<div class="ttc" id="classlookup__table__t_html_ae6564300ef65fbca021e6e84aef30ed4"><div class="ttname"><a href="classlookup__table__t.html#ae6564300ef65fbca021e6e84aef30ed4">lookup_table_t::x_min</a></div><div class="ttdeci">const T x_min() const</div><div class="ttdoc">Minimum breakpoint value. </div><div class="ttdef"><b>Definition:</b> <a href="lookup__table__t_8hpp_source.html#l00182">lookup_table_t.hpp:182</a></div></div>
<div class="ttc" id="classpwm__reader__attachable__t_html"><div class="ttname"><a href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a></div><div class="ttdef"><b>Definition:</b> <a href="pwm__reader__t_8hpp_source.html#l00241">pwm_reader_t.hpp:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a57f0249de27ea10df4110dd6529e21d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f0249de27ea10df4110dd6529e21d6">&#9670;&nbsp;</a></span>create_radio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classradio__t.html">radio_t</a> * radio_t::create_radio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classerumby__base__t.html">erumby_base_t</a> *&#160;</td>
          <td class="paramname"><em>m_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Singleton constructor for radio instance. </p>
<p>The class is implemented as a singleton, since there can be only <b>one remote</b> (a singleton class is a class that can have only one istance. In order to do so, the constructor is made private on purpose, and to create an instance a specific creator function is made available).</p>
<p>The singleton constructor calls the <code><a class="el" href="classradio__t.html" title="Radio remote software interface. ">radio_t</a></code> constructor. If already contructed, the function returns <code>self</code>.</p>
<p>The radio starts in mode secure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m_</td><td>pointer to erumby main instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the singleton instance of <code><a class="el" href="classradio__t.html" title="Radio remote software interface. ">radio_t</a></code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="radio__t_8ino_source.html#l00005">5</a> of file <a class="el" href="radio__t_8ino_source.html">radio_t.ino</a>.</p>
<div class="fragment"><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                                                  {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">self</span>)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  <span class="keyword">self</span> = <span class="keyword">new</span> <a class="code" href="classradio__t.html#a656ba4a317da1f5ef33615172bfc7b16">radio_t</a>(m_);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">self</span>;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div><div class="ttc" id="classradio__t_html_a656ba4a317da1f5ef33615172bfc7b16"><div class="ttname"><a href="classradio__t.html#a656ba4a317da1f5ef33615172bfc7b16">radio_t::radio_t</a></div><div class="ttdeci">radio_t(erumby_base_t *m_)</div><div class="ttdoc">Provate constructor. </div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8ino_source.html#l00012">radio_t.ino:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a606e7e0b44c5e7c01be742a13e332242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606e7e0b44c5e7c01be742a13e332242">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void radio_t::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main loop for the remote </p>
<p>This main loop reads the PWM and sets eventually the values in erumby as required. The main loop is also responsible for reading the mode from the remote. If in manual mode it also sets the input from the remote trigger and wheel</p>
<dl class="section warning"><dt>Warning</dt><dd>The remote trigger and wheels does not work, thus the remote input has been disabled commenting the define <code>REMOTE_NOT_WORKING</code> </dd>
<dd>
Due to the non functioning remote the Manual mode has never been actually tested. <b>Test it in a safe environment before using it</b>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="radio__t_8ino_source.html#l00035">35</a> of file <a class="el" href="radio__t_8ino_source.html">radio_t.ino</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                   {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// This static const are initialized only once by the compiler ;)</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> duty_mode_safe_low = <a class="code" href="configurations_8hpp.html#a64daf8fe00e6c183e7dc04ad8c5ed5a0">DUTY_MODE_SECURE</a> - <a class="code" href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> duty_mode_safe_high = <a class="code" href="configurations_8hpp.html#a64daf8fe00e6c183e7dc04ad8c5ed5a0">DUTY_MODE_SECURE</a> + <a class="code" href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> duty_mode_auto_low = <a class="code" href="configurations_8hpp.html#ab6695c1684e6a3cf0343f4cb6b5b2819">DUTY_MODE_AUTO</a> - <a class="code" href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> duty_mode_auto_high = <a class="code" href="configurations_8hpp.html#ab6695c1684e6a3cf0343f4cb6b5b2819">DUTY_MODE_AUTO</a> + <a class="code" href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> duty_mode_manual_low = <a class="code" href="configurations_8hpp.html#a40aaee056f107ca177440728d4018705">DUTY_MODE_MANUAL</a> - <a class="code" href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a> duty_mode_manual_high = <a class="code" href="configurations_8hpp.html#a40aaee056f107ca177440728d4018705">DUTY_MODE_MANUAL</a> + <a class="code" href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>.<a class="code" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a>() &gt;= duty_mode_safe_low) &amp;&amp; (<a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>.<a class="code" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a>() &lt;= duty_mode_safe_high)) {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> != <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02">Secure</a>) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#a8f1ada144bc7b54b0359bd256b7c38c9">stop</a>();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> = <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02">erumby_mode_t::Secure</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>.<a class="code" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a>() &gt;= duty_mode_auto_low) &amp;&amp; (<a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>.<a class="code" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a>() &lt;= duty_mode_auto_high)) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> != <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaab81b7469043e9c54603ca3aebbe38e90">Auto</a>) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#a8f1ada144bc7b54b0359bd256b7c38c9">stop</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> = <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaab81b7469043e9c54603ca3aebbe38e90">erumby_mode_t::Auto</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>.<a class="code" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a>() &gt;= duty_mode_manual_low) &amp;&amp; (<a class="code" href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">mode</a>.<a class="code" href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">get_pulse_real</a>() &lt;= duty_mode_manual_high)) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> != <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaacad5010fb34447633f3139d69698a0f0">Manual</a>) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#a8f1ada144bc7b54b0359bd256b7c38c9">stop</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> = <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaacad5010fb34447633f3139d69698a0f0">erumby_mode_t::Manual</a>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#ifndef REMOTE_NOT_WORKING</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> == <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaacad5010fb34447633f3139d69698a0f0">Manual</a>) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#af2e21084527b04985b3300224dc4151f">traction</a>(motor_lookup(<a class="code" href="classradio__t.html#afc7cce6e22c75485e1bbc191dfdbd33b">motor</a>.<a class="code" href="classpwm__reader__t.html#a493b4957f4088e806295d07d14948504">get_pulse</a>()));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <a class="code" href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">m</a>-&gt;<a class="code" href="classerumby__base__t.html#af35973d980c7447a133747ac41a9db8c">steer</a>(steer_lookup(<a class="code" href="classradio__t.html#a0777a1186e23fdf63601ce9dad0ddfa5">steer</a>.<a class="code" href="classpwm__reader__t.html#a493b4957f4088e806295d07d14948504">get_pulse</a>()));</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a> = <a class="code" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02">Secure</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="ttc" id="classerumby__base__t_html_af35973d980c7447a133747ac41a9db8c"><div class="ttname"><a href="classerumby__base__t.html#af35973d980c7447a133747ac41a9db8c">erumby_base_t::steer</a></div><div class="ttdeci">virtual const cmd_t steer() const =0</div></div>
<div class="ttc" id="classpwm__reader__attachable__t_html_a87084d1e50a92c4c54dfb21255ee45d9"><div class="ttname"><a href="classpwm__reader__attachable__t.html#a87084d1e50a92c4c54dfb21255ee45d9">pwm_reader_attachable_t::get_pulse_real</a></div><div class="ttdeci">pulse_t get_pulse_real()</div><div class="ttdef"><b>Definition:</b> <a href="pwm__reader__t_8hpp_source.html#l00265">pwm_reader_t.hpp:265</a></div></div>
<div class="ttc" id="types_8hpp_html_a5bb31a0aca77e366fb23e059dd4013eaacad5010fb34447633f3139d69698a0f0"><div class="ttname"><a href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaacad5010fb34447633f3139d69698a0f0">Manual</a></div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00047">types.hpp:47</a></div></div>
<div class="ttc" id="classradio__t_html_a1da64b8b5949fe82ead080998a3086b0"><div class="ttname"><a href="classradio__t.html#a1da64b8b5949fe82ead080998a3086b0">radio_t::m</a></div><div class="ttdeci">erumby_base_t * m</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00090">radio_t.hpp:90</a></div></div>
<div class="ttc" id="types_8hpp_html_a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02"><div class="ttname"><a href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaa405882d26ce5b790f92b42aa75cd0a02">Secure</a></div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00044">types.hpp:44</a></div></div>
<div class="ttc" id="types_8hpp_html_ab2750534c0364fc40484affdc3d6ec79"><div class="ttname"><a href="types_8hpp.html#ab2750534c0364fc40484affdc3d6ec79">pulse_t</a></div><div class="ttdeci">cmd_t pulse_t</div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00054">types.hpp:54</a></div></div>
<div class="ttc" id="classradio__t_html_afc7cce6e22c75485e1bbc191dfdbd33b"><div class="ttname"><a href="classradio__t.html#afc7cce6e22c75485e1bbc191dfdbd33b">radio_t::motor</a></div><div class="ttdeci">pwm_reader_t motor</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00086">radio_t.hpp:86</a></div></div>
<div class="ttc" id="classradio__t_html_a861144b5063f32c07d53c33cd4cb89dd"><div class="ttname"><a href="classradio__t.html#a861144b5063f32c07d53c33cd4cb89dd">radio_t::mode</a></div><div class="ttdeci">pwm_reader_attachable_t mode</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00088">radio_t.hpp:88</a></div></div>
<div class="ttc" id="configurations_8hpp_html_a64daf8fe00e6c183e7dc04ad8c5ed5a0"><div class="ttname"><a href="configurations_8hpp.html#a64daf8fe00e6c183e7dc04ad8c5ed5a0">DUTY_MODE_SECURE</a></div><div class="ttdeci">#define DUTY_MODE_SECURE</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00049">configurations.hpp:49</a></div></div>
<div class="ttc" id="classradio__t_html_a0777a1186e23fdf63601ce9dad0ddfa5"><div class="ttname"><a href="classradio__t.html#a0777a1186e23fdf63601ce9dad0ddfa5">radio_t::steer</a></div><div class="ttdeci">pwm_reader_t steer</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00087">radio_t.hpp:87</a></div></div>
<div class="ttc" id="configurations_8hpp_html_ab6695c1684e6a3cf0343f4cb6b5b2819"><div class="ttname"><a href="configurations_8hpp.html#ab6695c1684e6a3cf0343f4cb6b5b2819">DUTY_MODE_AUTO</a></div><div class="ttdeci">#define DUTY_MODE_AUTO</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00050">configurations.hpp:50</a></div></div>
<div class="ttc" id="classerumby__base__t_html_a8f1ada144bc7b54b0359bd256b7c38c9"><div class="ttname"><a href="classerumby__base__t.html#a8f1ada144bc7b54b0359bd256b7c38c9">erumby_base_t::stop</a></div><div class="ttdeci">virtual void stop()=0</div></div>
<div class="ttc" id="types_8hpp_html_a5bb31a0aca77e366fb23e059dd4013eaab81b7469043e9c54603ca3aebbe38e90"><div class="ttname"><a href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013eaab81b7469043e9c54603ca3aebbe38e90">Auto</a></div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00042">types.hpp:42</a></div></div>
<div class="ttc" id="configurations_8hpp_html_afa346748ac79e417c3810afadb7c180b"><div class="ttname"><a href="configurations_8hpp.html#afa346748ac79e417c3810afadb7c180b">DUTY_MODE_OFFSET</a></div><div class="ttdeci">#define DUTY_MODE_OFFSET</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00051">configurations.hpp:51</a></div></div>
<div class="ttc" id="classradio__t_html_a5f9e3316898c571b533a72aed266e099"><div class="ttname"><a href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">radio_t::curr_mode</a></div><div class="ttdeci">erumby_mode_t curr_mode</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00089">radio_t.hpp:89</a></div></div>
<div class="ttc" id="configurations_8hpp_html_a40aaee056f107ca177440728d4018705"><div class="ttname"><a href="configurations_8hpp.html#a40aaee056f107ca177440728d4018705">DUTY_MODE_MANUAL</a></div><div class="ttdeci">#define DUTY_MODE_MANUAL</div><div class="ttdef"><b>Definition:</b> <a href="configurations_8hpp_source.html#l00048">configurations.hpp:48</a></div></div>
<div class="ttc" id="classerumby__base__t_html_af2e21084527b04985b3300224dc4151f"><div class="ttname"><a href="classerumby__base__t.html#af2e21084527b04985b3300224dc4151f">erumby_base_t::traction</a></div><div class="ttdeci">virtual const cmd_t traction() const =0</div></div>
<div class="ttc" id="classpwm__reader__t_html_a493b4957f4088e806295d07d14948504"><div class="ttname"><a href="classpwm__reader__t.html#a493b4957f4088e806295d07d14948504">pwm_reader_t::get_pulse</a></div><div class="ttdeci">const pulse_t get_pulse()</div><div class="ttdoc">Get the current pulse reading. </div><div class="ttdef"><b>Definition:</b> <a href="pwm__reader__t_8hpp_source.html#l00150">pwm_reader_t.hpp:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6980188ee672e53e3561f8b8f4eaac5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6980188ee672e53e3561f8b8f4eaac5f">&#9670;&nbsp;</a></span>get_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013ea">erumby_mode_t</a> radio_t::get_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current mode. </p>
<p>The mode has three states:</p><ul>
<li>lateral switch high: the machine enters in the manual mode and responds to a manual drive using remote trigger and remote wheel (not supported!)</li>
<li>lateral switch middle: the machine enters in a safe mode. No control action is sent to the actuators, the machine stops</li>
<li>lateral switch low: the machine runs in automatic mode and responds to the signal arriving from the i2c connection.</li>
</ul>
<p>The machine starts in mode <b>secure</b>.</p>
<dl class="section return"><dt>Returns</dt><dd>the current mode in the form of an enum </dd></dl>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00147">147</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">curr_mode</a>; }</div><div class="ttc" id="classradio__t_html_a5f9e3316898c571b533a72aed266e099"><div class="ttname"><a href="classradio__t.html#a5f9e3316898c571b533a72aed266e099">radio_t::curr_mode</a></div><div class="ttdeci">erumby_mode_t curr_mode</div><div class="ttdef"><b>Definition:</b> <a href="radio__t_8hpp_source.html#l00089">radio_t.hpp:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad2a5c0d3ce4f5e25ae48e6204230d8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a5c0d3ce4f5e25ae48e6204230d8db">&#9670;&nbsp;</a></span>self</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classradio__t.html">radio_t</a> * radio_t::self = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The only instance of the <a class="el" href="classradio__t.html" title="Radio remote software interface. ">radio_t</a> class </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00085">85</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>

</div>
</div>
<a id="afc7cce6e22c75485e1bbc191dfdbd33b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7cce6e22c75485e1bbc191dfdbd33b">&#9670;&nbsp;</a></span>motor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpwm__reader__t.html">pwm_reader_t</a> radio_t::motor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PWM reader for the trigger input </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00086">86</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>

</div>
</div>
<a id="a0777a1186e23fdf63601ce9dad0ddfa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0777a1186e23fdf63601ce9dad0ddfa5">&#9670;&nbsp;</a></span>steer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpwm__reader__t.html">pwm_reader_t</a> radio_t::steer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PWM reader for the steer input </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00087">87</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>

</div>
</div>
<a id="a861144b5063f32c07d53c33cd4cb89dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a861144b5063f32c07d53c33cd4cb89dd">&#9670;&nbsp;</a></span>mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpwm__reader__attachable__t.html">pwm_reader_attachable_t</a> radio_t::mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PWM reader for the mode </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00088">88</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>

</div>
</div>
<a id="a5f9e3316898c571b533a72aed266e099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f9e3316898c571b533a72aed266e099">&#9670;&nbsp;</a></span>curr_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hpp.html#a5bb31a0aca77e366fb23e059dd4013ea">erumby_mode_t</a> radio_t::curr_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Current mode for the machine </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00089">89</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>

</div>
</div>
<a id="a1da64b8b5949fe82ead080998a3086b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1da64b8b5949fe82ead080998a3086b0">&#9670;&nbsp;</a></span>m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classerumby__base__t.html">erumby_base_t</a>* radio_t::m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pointer to the erumby main instance </p>

<p class="definition">Definition at line <a class="el" href="radio__t_8hpp_source.html#l00090">90</a> of file <a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="radio__t_8hpp_source.html">radio_t.hpp</a></li>
<li><a class="el" href="radio__t_8ino_source.html">radio_t.ino</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
